## Telegram-бот для рассылки по беседам

Бот рассылает сообщения по всем беседам (group/supergroup), в которых он состоит.
Администратор отправляет текст боту **в личные сообщения**, и этот текст рассылается во все сохранённые беседы.

### Структура проекта

- `bot.py` — основной файл бота.
- `database.py` — работа с SQLite-БД (хранение ID бесед).
- `config.py` — чтение ID администраторов из переменных окружения.
- `requirements.txt` — зависимости Python.
- `.env` — приватные настройки (токен бота и ID администраторов).

### Настройка

1. Установите Python 3.10+.
2. Создайте и активируйте виртуальное окружение (команды для Windows PowerShell):

   ```powershell
   cd tg-broadcast-bot
   python -m venv .venv
   .venv\Scripts\Activate.ps1
   ```

3. Установите зависимости:

   ```powershell
   pip install -r requirements.txt
   ```

4. В файле `.env` уже указан токен бота. **Не публикуйте этот файл в открытых репозиториях.**

5. Узнайте свой Telegram ID (например, через бота `@userinfobot`) и укажите его в `.env`:

   ```text
   ADMIN_USER_IDS=ВАШ_ID
   ```

   Можно указать несколько ID через запятую:

   ```text
   ADMIN_USER_IDS=111111111,222222222
   ```

### Запуск бота

Из директории проекта:

```powershell
cd tg-broadcast-bot
.venv\Scripts\Activate.ps1
python bot.py
```

Бот запустится и начнёт опрашивать Telegram.

### Как пользоваться

1. Добавьте бота в нужные беседы (group/supergroup).
2. В настройках беседы дайте боту право «видеть сообщения», чтобы он мог зафиксировать ID чата.
3. Напишите в каждой беседе любое сообщение (или дождитесь, когда кто-то что-то напишет) — бот запомнит эти беседы.
4. Администратор (чей ID указан в `ADMIN_USER_IDS`) пишет боту в **личку** текстовое сообщение — оно рассылается во все сохранённые беседы.

